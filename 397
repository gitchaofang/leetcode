class Solution {
public:
    int integerReplacement(int n) {
        int64_t d = n;
        if(d == 1) return 0;
        int res = 0;
        if(d % 2 == 0) res = 1 + integerReplacement(d / 2);
        else{
            res = 2 + std::min(integerReplacement((d-1)/2), integerReplacement((d + 1)/2));
        }
        return res;
    }
};
