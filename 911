class TopVotedCandidate {
public:
    TopVotedCandidate(vector<int>& persons, vector<int>& times) {
        std::vector<int> cnt(times.size() + 1,0);
        int king = 0;
        for(int i = 0; i < times.size();++i){
            if(++cnt[persons[i]] >= cnt[king]) king = persons[i];
            m[times[i]] = king;
        }
    }
    
    int q(int t) {
        return (--m.upper_bound(t)) -> second;   
    }
private:
    std::map<int,int> m;
};

