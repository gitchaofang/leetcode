class Solution {
public:
    string removeOuterParentheses(string S) {
        for(int i = 0; i < S.size(); ++i){
            int cnt = 1;
            int j = i + 1;
            while(j < S.size() && cnt > 0){
                if(S[j] == '(') ++cnt;
                else if(S[j] == ')') --cnt;
                ++j;
            }
            
            S.erase(S.begin() + j - 1);
            S.erase(S.begin() + i);
            i = j - 3;
        }
        return S;
    }
};
